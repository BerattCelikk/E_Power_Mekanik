{% extends 'base.html' %}
{% load static %}

{% block title %}İletişim{% endblock %}

{% block content %}

   <style>
       /* 1. ÜST BÖLÜM (BAŞLIK + KUTULAR) */
       .contact-header-section {
           background-image: url('{% static "images/slider1.jpeg" %}');
           background-size: cover;
           background-position: center;
           position: relative;
           padding-top: 180px; /* Menü payı */
           padding-bottom: 100px; /* Kutuların alt boşluğu */
           color: #fff;
       }
       
       /* Siyah Perde */
       .contact-header-section::before {
           content: '';
           position: absolute;
           top: 0; left: 0; width: 100%; height: 100%;
           background: rgba(0, 0, 0, 0.7);
       }
       
       .header-content-wrapper { position: relative; z-index: 2; }

       /* Başlık Stilleri */
       .page-title { margin-bottom: 60px; }
       .page-title h1 {
           font-size: 3.5rem; font-weight: 700; margin: 0; text-transform: lowercase;
       }
       .page-title h1::first-letter { text-transform: uppercase; }
       .page-title p { font-size: 1rem; color: #ccc; margin-top: 10px; }

       /* İletişim Kutuları */
       .info-box {
           background-color: rgba(20, 20, 20, 0.9);
           padding: 40px 20px;
           border-radius: 10px;
           text-align: center;
           height: 100%;
           border: 1px solid #444;
           transition: 0.3s;
       }
       .info-box:hover {
           border-color: #fff; background-color: #000; transform: translateY(-5px);
       }
       .info-box i { font-size: 2rem; color: #fff; margin-bottom: 20px; }
       .info-box h4 { font-size: 1.2rem; font-weight: 600; margin-bottom: 15px; color: #fff; }
       .info-box p { font-size: 0.95rem; color: #ccc; margin: 0; line-height: 1.6; }

       /* 2. ALT BÖLÜM (FORM ve HARİTA) */
       .contact-form-section {
           background-image: url('{% static "images/slider2.png" %}');
           background-size: cover;
           background-position: center;
           background-attachment: fixed;
           position: relative;
           padding: 100px 0;
           color: #fff;
       }
       .contact-form-section::before {
           content: '';
           position: absolute;
           top: 0; left: 0; width: 100%; height: 100%;
           background: rgba(0, 0, 0, 0.8);
           z-index: 0;
       }
       .contact-form-section .container { position: relative; z-index: 2; }

       /* Form Elemanları */
       .form-control {
           background-color: rgba(0, 0, 0, 0.5);
           border: 1px solid #555;
           color: #fff;
           padding: 15px;
           border-radius: 5px;
       }
       .form-control:focus {
           background-color: #000;
           border-color: #fff;
           color: #fff;
           box-shadow: none;
       }

       /* Buton Tasarımı */
       .btn-style1 {
           background-color: transparent;
           border: 2px solid #fff;
           color: #fff;
           padding: 15px 40px;
           font-weight: 700;
           border-radius: 30px;
           transition: 0.3s;
           cursor: pointer;
           display: inline-flex;
           align-items: center;
       }
       .btn-style1:hover {
           background-color: #fff;
           color: #000;
       }
       .btn-style1 i { margin-left: 10px; }

       /* Mobil Ayarları */
       @media (max-width: 991px) {
           .page-title h1 { font-size: 2.5rem; }
           .col-md-4 { margin-bottom: 20px; }
           .contact-form-section { padding: 60px 0; }
           .info-box { padding: 30px 15px; }
       }
   </style>

   <div class="contact-header-section">
       <div class="container header-content-wrapper">
           
           <div class="text-center page-title">
               <h1>iletişim</h1>
               <p>Anasayfa • İletişim</p>
           </div>

           <div class="row justify-content-center">
               <div class="col-md-4 mb-4">
                   <div class="info-box">
                       <i class="fas fa-phone-alt"></i>
                       <h4>Bizi hemen ara</h4>
                       <p></p>
                   </div>
               </div>

               <div class="col-md-4 mb-4">
                   <div class="info-box">
                       <i class="fas fa-envelope"></i>
                       <h4>Mail Adreslerimiz</h4>
                       <p>info@epowermekanik.com</p>
                   </div>
               </div>

               <div class="col-md-4 mb-4">
                   <div class="info-box">
                       <i class="fas fa-map-marker-alt"></i>
                       <h4>Adresimiz</h4>
                       <p>Beşyol Mah. 1.İnönü. Cad. <br> No:38/ 1 Küçükçekmece/ İstanbul</p>
                   </div>
               </div>
           </div>

       </div>
   </div>

   <div class="contact-form-section">
       <div class="container">
           <div class="row">
                
                <div class="col-lg-6 mb-5 mb-lg-0">
                    <h3 style="margin-bottom: 20px;">Konumumuz</h3>
                    <div class="map-container" style="border-radius: 10px; overflow: hidden; border: 1px solid #555; height: 450px;">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3010.578673763756!2d28.7963363!3d40.9994444!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14caa396362506b9%3A0xb36376c6c7634621!2zQmXFn3lvbCwgMS4gxLBuw7Zuw7wgQ2QuIE5vOjM4LCIDMzQyOTUgS8O8w6fDvGvDp2VrbWVjZS_EsHN0YW5idWw!5e0!3m2!1str!2str!4v1701698453123!5m2!1str!2str" 
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>

                <div class="col-lg-6">
                      <h3 style="margin-bottom: 20px;">Mesaj Gönderin</h3>

                      {% if success_message %}
                          <div class="alert alert-success alert-block" style="background:rgba(0,128,0,0.6); border-color:#555; color:#fff;">
                              <button type="button" class="close" data-dismiss="alert" style="color:#fff;"><i class="fas fa-times"></i></button>    
                              <strong>{{ success_message }}</strong>
                          </div>
                      {% endif %}

                      <form method="POST" action="{% url 'contact' %}">
                         {% csrf_token %}
                         
                         <div class="row">
                            <div class="col-md-6 mb-3">
                                <input name="name" type="text" class="form-control" placeholder="Adınız Soyadınız" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <input name="email" type="email" class="form-control" placeholder="E-posta Adresiniz" required>
                            </div>
                         </div>

                         <div class="row">
                            <div class="col-md-6 mb-3">
                                <input name="phone" type="text" class="form-control" placeholder="Telefon Numaranız">
                            </div>
                            <div class="col-md-6 mb-3">
                                <input name="subject" type="text" class="form-control" placeholder="Konu / Bütçe">
                            </div>
                         </div>
                         
                         <div class="mb-4">
                            <textarea name="message" placeholder="Mesajınız..." class="form-control" rows="5" required></textarea>
                         </div>

                         <button type="submit" class="btn-style1">
                             <span>Mesajı Gönder</span> <i class="fas fa-arrow-right ml-2"></i>
                         </button>
                    </form>
                </div>

           </div>
       </div>
   </div>

{% endblock %}